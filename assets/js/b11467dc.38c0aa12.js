"use strict";(globalThis.webpackChunkmi_sitio=globalThis.webpackChunkmi_sitio||[]).push([[9413],{8453(e,s,n){n.d(s,{R:()=>d,x:()=>a});var r=n(6540);const i={},t=r.createContext(i);function d(e){const s=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(t.Provider,{value:s},e.children)}},8617(e,s,n){n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"scripting-api/shaders-system","title":"Shaders system","description":"Shaders system API in Brakeza3D including uniforms, GLSL templates, and internal shader reference.","source":"@site/docs/4-scripting-api/11-shaders-system.md","sourceDirName":"4-scripting-api","slug":"/scripting-api/shaders-system","permalink":"/docs/scripting-api/shaders-system","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":12,"frontMatter":{"sidebar_position":12,"title":"Shaders system","description":"Shaders system API in Brakeza3D including uniforms, GLSL templates, and internal shader reference."},"sidebar":"tutorialSidebar","previous":{"title":"Sound system","permalink":"/docs/scripting-api/sound-system"},"next":{"title":"Grid and Octree","permalink":"/docs/scripting-api/grid-and-octree"}}');var i=n(4848),t=n(8453);const d={sidebar_position:12,title:"Shaders system",description:"Shaders system API in Brakeza3D including uniforms, GLSL templates, and internal shader reference."},a="Shaders system",l={},o=[{value:"Shader Variables (uniforms)",id:"shader-variables-uniforms",level:2},{value:"Postprocessing Shader Template",id:"postprocessing-shader-template",level:3},{value:"Geometry Shader Template",id:"geometry-shader-template",level:3},{value:"Internal Shaders",id:"internal-shaders",level:2},{value:"Mesh/Object Shaders",id:"meshobject-shaders",level:3},{value:"Postprocessing / Scene Shaders",id:"postprocessing--scene-shaders",level:3}];function c(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"shaders-system",children:"Shaders system"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"shader-variables-uniforms",children:"Shader Variables (uniforms)"}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.p,{children:"You can also configure the variables (uniforms) that each shader will receive from the UI."}),"\n",(0,i.jsx)(s.p,{children:"You can create your own variables primitives vars:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"int"}),"\n",(0,i.jsx)(s.li,{children:"float"}),"\n",(0,i.jsx)(s.li,{children:"vec2"}),"\n",(0,i.jsx)(s.li,{children:"vec3"}),"\n",(0,i.jsx)(s.li,{children:"vec4"}),"\n",(0,i.jsx)(s.li,{children:"texture"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Or you can select system uniforms:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"delta_time (float)"}),"\n",(0,i.jsx)(s.li,{children:"execution_time (float)"}),"\n",(0,i.jsx)(s.li,{children:"scene (texture)."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Additionally, geometry shaders (which only apply to Mesh3D) allow you to use system types such as diffuse\nor specular, with textures belonging to the particular model."}),"\n",(0,i.jsx)(s.h3,{id:"postprocessing-shader-template",children:"Postprocessing Shader Template"}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.p,{children:"Below are empty templates for the postprocessing shader."}),"\n",(0,i.jsx)(s.p,{children:"VertexShader:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-lua",children:"#version 330 core\n\nlayout (location = 0) in vec4 vertex; // <vec2 position, vec2 texCoords>\n\nout vec2 TexCoords;\n\nuniform mat4 model;\nuniform mat4 projection;\n\nvoid main()\n{\n    TexCoords = vec2(vertex.z, -vertex.w);\n    gl_Position = projection * model * vec4(vertex.xy, 0.0, 1.0);\n}\n"})}),"\n",(0,i.jsx)(s.p,{children:"FragmentShader:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-lua",children:"#version 330 core\n\nin vec2 TexCoords;\n\n//out vec4 FragColor;\n\nvoid main()\n{\n   //FragColor = texture(sceneTexture, TexCoords);\n}\n"})}),"\n",(0,i.jsx)(s.h3,{id:"geometry-shader-template",children:"Geometry Shader Template"}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.p,{children:"Below are empty templates for the geometry shader."}),"\n",(0,i.jsx)(s.p,{children:"VertexShader:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-lua",children:"#version 330 core\n\nlayout (location = 0) in vec3 aPos;\nlayout (location = 1) in vec3 aNormal;\nlayout (location = 2) in vec2 aTexCoords;\n\nout vec3 FragPos;\nout vec3 Normal;\nout vec2 TexCoords;\n\nuniform mat4 model;\nuniform mat4 view;\nuniform mat4 projection;\n\nvoid main()\n{\n    FragPos = vec3(model * vec4(aPos, 1.0));\n    Normal = mat3(transpose(inverse(model))) * aNormal;\n    TexCoords = aTexCoords;\n\n    gl_Position = projection * view * vec4(FragPos, 1.0);\n}\n"})}),"\n",(0,i.jsx)(s.p,{children:"FragmentShader:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-lua",children:"#version 330 core\n\n//uniform sampler2D diffuse;\n\nout vec4 FragColor;\n\nin vec3 FragPos;\nin vec3 Normal;\nin vec2 TexCoords;\n\nvoid main()\n{\n    vec3 norm = normalize(Normal);\n    vec3 viewDir = normalize(viewPos - FragPos);\n\n    //FragColor = texture(diffuse, TexCoords);\n}\n"})}),"\n",(0,i.jsx)(s.h2,{id:"internal-shaders",children:"Internal Shaders"}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.p,{children:["You can find the shaders that ",(0,i.jsx)(s.strong,{children:"Brakeza3D"})," uses internally in the ",(0,i.jsx)(s.code,{children:"/GLSL"})," folder."]}),"\n",(0,i.jsx)(s.h3,{id:"meshobject-shaders",children:"Mesh/Object Shaders"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Shader"}),(0,i.jsx)(s.th,{children:"Files"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Render"}),(0,i.jsx)(s.td,{children:"Render.vs / Render.fs"}),(0,i.jsx)(s.td,{children:"Mesh3D forward rendering"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Outliner"}),(0,i.jsx)(s.td,{children:"Outliner.vs / Outliner.fs"}),(0,i.jsx)(s.td,{children:"Outliner for a selected object"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Color"}),(0,i.jsx)(s.td,{children:"Color.vs / Color.fs"}),(0,i.jsx)(s.td,{children:"Renders a Mesh3D with a given color"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Wireframe"}),(0,i.jsx)(s.td,{children:"Wireframe.vs / Wireframe.fs"}),(0,i.jsx)(s.td,{children:"Renders vertices of a Mesh3D"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Points"}),(0,i.jsx)(s.td,{children:"Points.vs / Points.fs"}),(0,i.jsx)(s.td,{children:"Renders vertices of a Mesh3D"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Line3D"}),(0,i.jsx)(s.td,{children:"Line3D.vs / Line3D.fs"}),(0,i.jsx)(s.td,{children:"Renders 3D lines"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Line"}),(0,i.jsx)(s.td,{children:"Line.vs / Line.fs"}),(0,i.jsx)(s.td,{children:"Draws a 2D line on screen"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Image"}),(0,i.jsx)(s.td,{children:"Image.vs / Image.fs"}),(0,i.jsx)(s.td,{children:"Renders an image on screen"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Particle"}),(0,i.jsx)(s.td,{children:"Particle.vs / Particle.fs"}),(0,i.jsx)(s.td,{children:"Draws a particle on screen; used by ParticleEmitter"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Shading"}),(0,i.jsx)(s.td,{children:"Shading.vs / Shading.fs"}),(0,i.jsx)(s.td,{children:"Renders an object to a buffer to be used as a mask"})]})]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"postprocessing--scene-shaders",children:"Postprocessing / Scene Shaders"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Shader"}),(0,i.jsx)(s.th,{children:"Files"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"DeepOfField"}),(0,i.jsx)(s.td,{children:"DeepOfField.vs / DeepOfField.fs"}),(0,i.jsx)(s.td,{children:"Depth of field effect"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"FOG"}),(0,i.jsx)(s.td,{children:"FOG.vs / FOG.fs"}),(0,i.jsx)(s.td,{children:"Fog effect"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"DepthMap"}),(0,i.jsx)(s.td,{children:"DepthMap.vs / DepthMap.fs"}),(0,i.jsx)(s.td,{children:"Draws the depth map of the scene"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Tint"}),(0,i.jsx)(s.td,{children:"Tint.vs / Tint.fs"}),(0,i.jsx)(s.td,{children:"Colors the screen with a given color and alpha"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"BonesTransforms"}),(0,i.jsx)(s.td,{children:"BonesTransforms.vs"}),(0,i.jsx)(s.td,{children:"Bone transform calculations for skeletal animation"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"GBuffer"}),(0,i.jsx)(s.td,{children:"GBuffer.vs / GBuffer.fs"}),(0,i.jsx)(s.td,{children:"G-buffer pass for deferred rendering"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"LightingPass"}),(0,i.jsx)(s.td,{children:"LightingPass.vs / LightingPass.fs"}),(0,i.jsx)(s.td,{children:"Handles lighting computations for deferred pipeline"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"ShadowPass"}),(0,i.jsx)(s.td,{children:"ShadowPass.vs / ShadowPass.fs"}),(0,i.jsx)(s.td,{children:"Shadow mapping pass"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"ShadowPassDebugLight"}),(0,i.jsx)(s.td,{children:"ShadowPassDebugLight.vs / ShadowPassDebugLight.fs"}),(0,i.jsx)(s.td,{children:"Debugging shadows visualization"})]})]})]}),"\n",(0,i.jsx)(s.p,{children:"If you know what you\u2019re doing, you can freely manipulate the shaders as you see fit!"})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);